<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Vòng Quay CS:GO</title>
<style>
  .wheel-container {
    width: 500px;
    height: 100px;
    overflow: hidden;
    position: relative;
    border: 1px solid #000;
  }
  .wheel {
    display: flex;
    width: calc(100px * 10); /* Số lượng ô nhân với chiều rộng của mỗi ô */
    transition: transform 4s ease-out;
  }
  .segment {
    width: 100px;
    height: 100px;
    border: 1px solid #000;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
  }
</style>
</head>
<body>
<div class="wheel-container">
  <div id="wheel" class="wheel">
    <!-- Các ô của vòng quay được thêm vào đây bằng JavaScript -->
  </div>
</div>
<script>
const wheel = document.getElementById('wheel');
let prizes = [
  { name: 'Giải 1', probability: 10, color: '#ff0000' },
  { name: 'Giải 2', probability: 20, color: '#00ff00' },
  { name: 'Giải 3', probability: 30, color: '#0000ff' },
  { name: 'Giải 4', probability: 40, color: '#ffff00' }
  // Thêm các giải thưởng khác tương tự
];

// Tạo các ô trên vòng quay
prizes.forEach(prize => {
  let segment = document.createElement('div');
  segment.className = 'segment';
  segment.style.backgroundColor = prize.color;
  segment.textContent = prize.name;
  wheel.appendChild(segment);
});

// Hàm để tính toán giải thưởng dựa trên tỉ lệ phần trăm
function calculatePrize() {
  let totalProbability = prizes.reduce((total, prize) => total + prize.probability, 0);
  let randomPoint = Math.random() * totalProbability;
  let currentPoint = 0;

  for (let prize of prizes) {
    currentPoint += prize.probability;
    if (randomPoint <= currentPoint) {
      return prize.name; // Trả về tên giải thưởng khi điểm ngẫu nhiên nằm trong khoảng tỉ lệ
    }
  }
}

// Hàm để quay vòng quay
function spinWheel() {
  let degrees = 5000 + Math.random() * 5000; // Số độ quay ngẫu nhiên từ 5000 đến 10000
  wheel.style.transform = 'rotate(' + degrees + 'deg)';
  setTimeout(() => {
    alert('Chúc mừng! Bạn đã trúng ' + calculatePrize());
  }, 4000); // Hiển thị giải thưởng sau khi quay kết thúc
}

// Bắt đầu quay khi nhấp vào vòng quay
wheel.addEventListener('click', spinWheel);
</script>
</body>
</html>
